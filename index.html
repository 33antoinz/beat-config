<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artist Signature | Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #000; color: #fff; font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        .step { display: none; }
        .step-active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .option-btn { 
            border: 1px solid #333; padding: 20px; border-radius: 12px; 
            text-align: center; transition: all 0.2s; cursor: pointer;
            font-size: 1.1rem; font-weight: 400;
        }
        .option-btn:hover { border-color: #fff; background: #fff; color: #000; }

        input, textarea { 
            background: transparent !important; border-bottom: 2px solid #333 !important; 
            width: 100%; padding: 15px 0; font-size: 1.2rem; color: #fff; outline: none; margin-bottom: 30px;
            transition: border-color 0.3s;
        }
        input:focus { border-color: #3b82f6 !important; }
        .btn-next { background: #fff; color: #000; padding: 20px; border-radius: 50px; font-weight: 700; width: 100%; text-transform: uppercase; letter-spacing: 2px; margin-top: 20px; }
    </style>
</head>
<body class="p-6 md:p-20">

    <div class="max-w-3xl mx-auto">
        <div id="progress" class="text-[10px] tracking-[0.3em] text-gray-600 mb-10 uppercase font-bold">Question 1 / 6</div>

        <div id="configurator">
            <div class="step step-active" id="step1">
                <h1 class="text-3xl md:text-5xl font-bold mb-10 leading-tight">Quelle offre vous intéresse ?</h1>
                <div class="grid grid-cols-1 gap-4">
                    <div class="option-btn" onclick="saveData('Plan_Choisi', 'Basic (199€)', 1)">BASIC — 3 exclusive beats MP3 — 199.99€</div>
                    <div class="option-btn" onclick="saveData('Plan_Choisi', 'Premium (299€)', 1)">PREMIUM — 3 exclusive beats WAV — 299.99€</div>
                    <div class="option-btn" onclick="saveData('Plan_Choisi', 'Premium+ (349€)', 1)">PREMIUM+ — 5 exclusive beats WAV + Stems — 349.99€</div>
                    <div class="option-btn" onclick="saveData('Plan_Choisi', 'Pro (499€)', 1)">PRO — 5 exclusive beats WAV + Stems + 1 Free beat — 499.99€</div>
                </div>
            </div>

            <div class="step" id="step2">
                <h1 class="text-3xl md:text-5xl font-bold mb-10 leading-tight">Genre du projet</h1>
                <div class="grid grid-cols-2 gap-4">
                    <div class="option-btn" onclick="saveData('Genre', 'Trap', 2)">TRAP</div>
                    <div class="option-btn" onclick="saveData('Genre', 'Drill', 2)">DRILL</div>
                    <div class="option-btn" onclick="saveData('Genre', 'R&B', 2)">R&B</div>
                    <div class="option-btn" onclick="saveData('Genre', 'Hip Hop', 2)">HIP HOP</div>
                    <div class="option-btn" onclick="saveData('Genre', 'Electronic', 2)">ELECTRONIC</div>
                    <div class="option-btn" onclick="saveData('Genre', 'Pop', 2)">POP</div>
                </div>
            </div>

            <div class="step" id="step3">
                <h1 class="text-3xl md:text-5xl font-bold mb-10 leading-tight">L'ambiance du projet ?</h1>
                <div class="grid grid-cols-2 gap-4">
                    <div class="option-btn" onclick="saveData('Ambiance', 'Sombre / Dark', 3)">DARK</div>
                    <div class="option-btn" onclick="saveData('Ambiance', 'Mélodique', 3)">MELODIC</div>
                    <div class="option-btn" onclick="saveData('Ambiance', 'Énergique', 3)">ENERGY</div>
                    <div class="option-btn" onclick="saveData('Ambiance', 'Chill', 3)">CHILL</div>
                </div>
            </div>

            <div class="step" id="step4">
                <h1 class="text-3xl md:text-5xl font-bold mb-10 leading-tight">Vitesse (BPM) ?</h1>
                <div class="grid grid-cols-2 gap-4">
                    <div class="option-btn" onclick="saveData('BPM', 'Lent (80-110)', 4)">LENT</div>
                    <div class="option-btn" onclick="saveData('BPM', 'Standard (120-140)', 4)">STANDARD</div>
                    <div class="option-btn" onclick="saveData('BPM', 'Rapide (150+)', 4)">RAPIDE</div>
                    <div class="option-btn" onclick="saveData('BPM', 'Au choix', 4)">LIBRE</div>
                </div>
            </div>

            <div class="step" id="step5">
                <h1 class="text-3xl md:text-5xl font-bold mb-10 leading-tight">Vos coordonnées.</h1>
                <input type="text" id="name" placeholder="Nom Complet">
                <input type="email" id="email" placeholder="Adresse Email">
                <input type="text" id="insta" placeholder="Instagram @compte">
                <button onclick="nextStep(5)" class="btn-next">Continuer</button>
            </div>

            <div class="step" id="step6">
                <h1 class="text-3xl md:text-5xl font-bold mb-10 leading-tight">Détails & Vision.</h1>
                <textarea id="notes" placeholder="Décrivez votre projet en quelques mots (références, instruments...)" class="h-40"></textarea>
                <button id="submitBtn" onclick="finishApplication()" class="btn-next">Envoyer ma candidature</button>
            </div>

            <div class="step text-center" id="success">
                <h1 class="text-4xl font-bold mb-6">Merci.</h1>
                <p class="text-gray-400 text-lg leading-relaxed">Votre candidature a été envoyée. Je reviens vers vous sur Instagram très bientôt.</p>
                <p class="text-gray-600 text-sm mt-10 uppercase tracking-widest">Vous pouvez quitter cette page.</p>
            </div>
        </div>
    </div>

    <script>
        let appData = {
            "access_key": "f863aee7-2db6-43d5-be09-72b8215fc1f1",
            "from_name": "Artist Signature Program",
            "subject": "Nouvelle Candidature Reçue"
        };

        function saveData(key, value, currentStep) {
            appData[key] = value;
            nextStep(currentStep);
        }

        function nextStep(current) {
            document.getElementById(`step${current}`).classList.remove('step-active');
            const next = current + 1;
            if(document.getElementById(`step${next}`)) {
                document.getElementById(`step${next}`).classList.add('step-active');
                document.getElementById('progress').innerText = `Question ${next} / 6`;
            }
        }

        async function finishApplication() {
            const btn = document.getElementById('submitBtn');
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const insta = document.getElementById('insta').value;
            const notes = document.getElementById('notes').value;

            if(!name || !email || !insta) {
                alert("Veuillez remplir les informations de contact.");
                return;
            }

            btn.innerText = "ENVOI EN COURS...";
            btn.disabled = true;

            appData.name = name;
            appData.email = email;
            appData.insta = insta;
            appData.notes = notes;

            try {
                const response = await fetch("https://api.web3forms.com/submit", {
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Accept": "application/json" },
                    body: JSON.stringify(appData)
                });
                
                if (response.status === 200) {
                    document.getElementById('step6').classList.remove('step-active');
                    document.getElementById('success').classList.add('step-active');
                    document.getElementById('progress').style.display = 'none';
                } else {
                    throw new Error();
                }
            } catch (error) {
                alert("Erreur lors de l'envoi. Veuillez me contacter directement sur Instagram.");
                btn.disabled = false;
                btn.innerText = "Envoyer ma candidature";
            }
        }
    </script>
</body>
</html>
